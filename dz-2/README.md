## Домашнее задание ##
Добавляем в модель данных дополнительные индексы и ограничения

Цель: Применять индексы в реальном проекте.

Описание/Пошаговая инструкция выполнения домашнего задания: 
1. Проводим анализ возможных запросов\отчетов\поиска данных.
2. Предполагаем возможную кардинальность поля.
3. Создаем дополнительные индексы - простые или композитные.
4. На каждый индекс пишем краткое описание зачем он нужен (почему по этому полю\полям).
5. Думаем какие логические ограничения в БД нужно добавить - например какие поля должны быть уникальны, в какие нужно добавить условия, чтобы не нарушить бизнес логику. Пример - нельзя провести операцию по переводу средств на отрицательную сумму.
6. Создаем ограничения по выбранным полям.


### Описание таблицы и полей ###
- Таблица *customer* - Клиент
  - *id* - Уникальный идентификатор клиента
  - *surname* - Фамилия клиента
  - *name* - Имя клиента
  - *patronymic* - Отчество клиента
  - *date_of_birth* - Дата рождения клиента
  - *phone* - Телефон клиента
  - *email* - Электронная почта клиента
  - *address* - Адрес клиента
  - *driver_license_number* - Номер водительского удостоверения клиента
  - *customer_type_id* - Идентификатор типа клиента (ссылка на таблицу customer_type)

- Таблица *employees* - Сотрудник
  - *id* - Уникальный идентификатор сотрудника
  - *surname* - Фамилия сотрудника
  - *name* - Имя сотрудника
  - *patronymic* - Отчество сотрудника
  - *position* - Должность сотрудника
  - *phone_number* - Телефон сотрудника
  - *email* - Электронная почта сотрудника

- Таблица *model* - Модель транспортного средства
  - *id* - Уникальный идентификатор модели
  - *transport_type_id* - Идентификатор типа ТС (ссылка на таблицу transport_type)
  - *brand* - Марка автомобиля
  - *year_of_production* - Год производства
  - *body_type* - Тип кузова
  - *engine_capacity* - Объем двигателя

- Таблица *vehicle* - Транспортное средство
  - *id* - Уникальный идентификатор ТС
  - *model_id* - Идентификатор модели (ссылка на таблицу model)
  - *state* - Статус доступности ТС (ссылка на таблицу reservation_status)
  - *color* - Цвет ТС
  - *license_plate* - Государственный номер ТС

- Таблица *reservation_status* - Справочник статусов брони
  - *id* - Уникальный идентификатор статуса бронирования
  - *name* - Название статуса бронирования

- Таблица *reservation* - Бронирования/заявки на бронь
  - *id* - Уникальный идентификатор бронирования
  - *customer_id* - Идентификатор клиента (ссылка на таблицу customer)
  - *start_date* - Дата начала аренды
  - *finish_date* - Дата окончания аренды
  - *total_cost* - Общая стоимость аренды
  - *employees_id* - Идентификатор сотрудника (ссылка на таблицу employees)
  - *state* - Статус брони (ссылка на таблицу reservation_status)
  - *datetime* - Дата и время создания брони

- Таблица *rental_prices* - Стоимость аренды ТС от типа клиента
  - *id* - Уникальный идентификатор цены аренды
  - *vehicle_id* - Идентификатор автомобиля (ссылка на таблицу vehicle)
  - *customer_type_id* - Идентификатор типа клиента (ссылка на таблицу customer_type)
  - *daily_price* - Ежедневная стоимость аренды

- Таблица *contract* - Договор
  - *id* - Уникальный идентификатор договора
  - *number* - Номер договора
  - *customer_id* - Идентификатор клиента (ссылка на таблицу customer)
  - *employees_id* - Идентификатор сотрудника (ссылка на таблицу employees)
  - *reservation_id* - Идентификатор бронирования (ссылка на аблицу reservation)
  - *payment_status* - Статус оплаты
  - *date* - Дата договора
  - *created_at* - Дата создания договора в системе
  - *updated_at* - Дата последнего обновления договора

- Таблица *reservation_request* - Заявка на бронь 
  - *id* - Уникальный идентификатор запроса на бронирование
  - *reservation_id* - Идентификатор бронирования (ссылка на reservation)
  - *vehicle_id* - Идентификатор автомобиля (ссылка на vehicle)

- Таблица *transport_type* - Тип ТС
  - *id* - Уникальный идентификатор типа ТС
  - *name* - Название типа ТС
  - *category* - Категория типа ТС

- Таблица *customer_type* - Тип клиента (группа)
  - *id* - Уникальный идентификатор типа клиента
  - *name* - Название типа клиента

### Возможные запросы\отчеты\поиск данных: ###
1. Поиск доступных ТС на определенную дату.
2. Отчет о популярных ТС.
3. Отчет о количестве бронирований по типам ТС.
4. Отчет о средней стоимости аренды по типам клиентов.
5. Отчет о доходах за определенный период.
6. Отчет о количестве бронирований по сотрудникам и типам транспортных средств.

### Дополнительные индексы ###

##### Таблица *customer* #####
```sql
 CREATE INDEX idx_customer_customer_type_id ON customer (customer_type_id);
```
- индекс поиска клиентов по типу (необходимо для поиска по запросу № 4), простой;
  
##### Таблица *employees* #####

##### Таблица *model* #####

##### Таблица *vehicle* #####

##### Таблица *reservation_status* #####


##### Таблица *reservation* #####
```sql
 CREATE INDEX idx_reservation_dates ON reservation (start_date, finish_date);
 CREATE INDEX idx_reservation_state ON reservation (state);
```
- индекс поиска бронирования на определенную дату (необходимо для запроса № 1), композитный;
- индекс поиска по статусу бронирования (необязателен, но ускорит выборку по запросам, например в рамках запроса № 1), простой;





